[package]
name = "tsukuyomi"
description = """
A next generation Web framework for Rust
"""
version = "0.3.0-dev"
authors = ["Yusuke Sasaki <yusuke.sasaki.nuem@gmail.com>"]
license = "MIT/Apache-2.0"
repository = "https://github.com/tsukuyomi-rs/tsukuyomi.git"
documentation = "https://docs.rs/tsukuyomi/"
readme = "README.md"
keywords = ["web", "framework", "futures", "hyper", "tokio"]
categories = ["web-programming::http-server"]

include = [
  "src/**/*.rs",
  "Cargo.toml",
  "README.md",
  "LICENSE-*",
]

[package.metadata.docs.rs]
features = [
  "secure",
  "tls",
  #"codegen",

  # FIXME: remove it as soon as the rustc version used in docs.rs is updated
  "extern-prelude",
]

[badges]
appveyor = { repository = "tsukuyomi-rs/tsukuyomi" }
travis-ci = { repository = "tsukuyomi-rs/tsukuyomi" }
maintenance = { status = "actively-developed" }

[workspace]
members = [
  "codegen",
]

[dependencies]
hyper = { version = "0.12.5", features = ["runtime"], default-features = false }
http = "0.1.5"
mime = "0.3.7"
bytes = "0.4.8"
tokio = "0.1.7"
tokio-tcp = "0.1.0"
tokio-threadpool = "0.1.5"
futures = "0.1.21"
failure = { version = "0.1.1", features = ["derive"] }
log = "0.4.2"
rustls = { version = "0.13.0", optional = true }
tokio-rustls = { version = "0.7.1", optional = true }
cookie = { version = "0.11.0", features = ["percent-encode"] }
serde = { version = "1.0.66", features = ["derive"] }
serde_json = "1.0.20"
indexmap = "1.0.1"

#tsukuyomi-codegen = { version = "0.1.0", path = "codegen", optional = true }

[dev-dependencies]
matches = "0.1.6"
time = "0.1.40"

[target.'cfg(unix)'.dependencies]
tokio-uds = "0.2.0"

[features]
default = []
secure = ["cookie/secure"]
tls = ["rustls", "tokio-rustls"]
nightly = []

#codegen = ["tsukuyomi-codegen"]
#nightly = ["tsukuyomi-codegen/nightly"]

# FIXME: remove it as soon as the rustc version used in docs.rs is updated
extern-prelude = []
